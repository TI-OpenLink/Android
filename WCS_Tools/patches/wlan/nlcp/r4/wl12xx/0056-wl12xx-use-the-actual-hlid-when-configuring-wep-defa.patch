From d09bce9d791b804a55ac7e2f906f972fa8b8be7b Mon Sep 17 00:00:00 2001
From: Eliad Peller <eliad@wizery.com>
Date: Tue, 24 May 2011 15:22:28 +0300
Subject: [PATCH 56/75] wl12xx: use the actual hlid when configuring wep default key

---
 drivers/net/wireless/wl12xx/cmd.c |    2 +-
 1 files changed, 1 insertions(+), 1 deletions(-)

diff --git a/drivers/net/wireless/wl12xx/cmd.c b/drivers/net/wireless/wl12xx/cmd.c
index 7c5ce77..9ba3f70 100644
--- a/drivers/net/wireless/wl12xx/cmd.c
+++ b/drivers/net/wireless/wl12xx/cmd.c
@@ -1257,7 +1257,7 @@ int wl1271_cmd_set_sta_default_wep_key(struct wl1271 *wl, u8 id)
 		goto out;
 	}
 
-	cmd->hlid = WL1271_INVALID_LINK_ID;
+	cmd->hlid = wl->sta_hlid;
 	cmd->lid_key_type = WEP_DEFAULT_LID_TYPE;
 	cmd->id = id;
 	cmd->key_action = cpu_to_le16(KEY_SET_ID);
-- 
1.7.0.4

