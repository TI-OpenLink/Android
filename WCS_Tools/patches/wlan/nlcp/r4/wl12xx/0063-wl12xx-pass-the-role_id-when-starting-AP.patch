From 6bd62a2845e606711c9a8682853cef0fe1855a31 Mon Sep 17 00:00:00 2001
From: Arik Nemtsov <arik@wizery.com>
Date: Wed, 18 May 2011 06:33:29 +0300
Subject: [PATCH 63/75] wl12xx: pass the role_id when starting AP

Previously this parameter was never sent to the FW
---
 drivers/net/wireless/wl12xx/cmd.c |    2 ++
 1 files changed, 2 insertions(+), 0 deletions(-)

diff --git a/drivers/net/wireless/wl12xx/cmd.c b/drivers/net/wireless/wl12xx/cmd.c
index 56143ee..4f12155 100644
--- a/drivers/net/wireless/wl12xx/cmd.c
+++ b/drivers/net/wireless/wl12xx/cmd.c
@@ -703,6 +703,8 @@ int wl1271_cmd_role_start_ap(struct wl1271 *wl)
 	if (ret < 0)
 		goto out_free_global;
 
+	cmd->role_id = wl->role_id;
+
 	cmd->ap.aging_period = cpu_to_le16(WL1271_AP_DEF_INACTIV_SEC);
 	cmd->ap.bss_index = WL1271_AP_BSS_INDEX;
 	cmd->ap.global_hlid = wl->ap_global_hlid;
-- 
1.7.0.4

